--
-- PostgreSQL database dump
--

-- Dumped from database version 13.0
-- Dumped by pg_dump version 13.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: dbo; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA dbo;


ALTER SCHEMA dbo OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: answer_option; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.answer_option (
    answer_id bigint NOT NULL,
    option_id bigint NOT NULL
);


ALTER TABLE dbo.answer_option OWNER TO postgres;

--
-- Name: answers; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.answers (
    answer_id bigint NOT NULL,
    rating_value integer,
    text_area_value character varying(255),
    question_id bigint NOT NULL,
    user_id bigint
);


ALTER TABLE dbo.answers OWNER TO postgres;

--
-- Name: answers_answer_id_seq; Type: SEQUENCE; Schema: dbo; Owner: postgres
--

ALTER TABLE dbo.answers ALTER COLUMN answer_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME dbo.answers_answer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: option; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.option (
    option_id bigint NOT NULL,
    option_text character varying(255),
    question_id bigint
);


ALTER TABLE dbo.option OWNER TO postgres;

--
-- Name: option_option_id_seq; Type: SEQUENCE; Schema: dbo; Owner: postgres
--

ALTER TABLE dbo.option ALTER COLUMN option_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME dbo.option_option_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: question; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.question (
    question_id bigint NOT NULL,
    has_remarks boolean NOT NULL,
    remarks character varying(255),
    required boolean,
    text character varying(255) NOT NULL,
    type character varying(255) NOT NULL,
    survey_id uuid
);


ALTER TABLE dbo.question OWNER TO postgres;

--
-- Name: question_question_id_seq; Type: SEQUENCE; Schema: dbo; Owner: postgres
--

ALTER TABLE dbo.question ALTER COLUMN question_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME dbo.question_question_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: roles; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.roles (
    role_id bigint NOT NULL,
    p_admin_panel boolean NOT NULL,
    p_create_surveys boolean NOT NULL,
    p_delete_surveys boolean NOT NULL,
    p_edit_surveys boolean NOT NULL,
    p_results_surveys boolean NOT NULL,
    role character varying(255)
);


ALTER TABLE dbo.roles OWNER TO postgres;

--
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: dbo; Owner: postgres
--

ALTER TABLE dbo.roles ALTER COLUMN role_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME dbo.roles_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: survey; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo.survey (
    survey_id uuid NOT NULL,
    description character varying(255),
    is_anonymous boolean NOT NULL,
    last_modification_date timestamp without time zone NOT NULL,
    title character varying(255) NOT NULL,
    user_id bigint
);


ALTER TABLE dbo.survey OWNER TO postgres;

--
-- Name: user; Type: TABLE; Schema: dbo; Owner: postgres
--

CREATE TABLE dbo."user" (
    id bigint NOT NULL,
    active boolean,
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    phone_number character varying(255),
    username character varying(255) NOT NULL,
    roles_role_id bigint
);


ALTER TABLE dbo."user" OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: dbo; Owner: postgres
--

ALTER TABLE dbo."user" ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME dbo.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: answer_option; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.answer_option (answer_id, option_id) FROM stdin;
2	12
4	9
4	10
6	13
7	10
7	9
9	12
10	11
10	10
12	12
14	9
16	11
17	13
19	3
18	1
20	6
20	5
22	3
21	2
23	8
23	7
24	3
25	5
26	1
27	4
\.


--
-- Data for Name: answers; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.answers (answer_id, rating_value, text_area_value, question_id, user_id) FROM stdin;
1	\N	Andrzej	4	1
2	\N	\N	6	1
3	4	\N	7	1
4	\N	\N	5	1
6	\N	\N	6	1
5	2	\N	7	1
7	\N	\N	5	1
8	5	\N	7	1
9	\N	\N	6	1
10	\N	\N	5	1
11	\N	Krzysztof	4	1
12	\N	\N	6	1
13	4	\N	7	1
14	\N	\N	5	1
15	1	\N	7	1
16	\N	\N	5	1
17	\N	\N	6	1
18	\N	\N	1	1
19	\N	\N	2	1
20	\N	\N	3	1
21	\N	\N	1	1
22	\N	\N	2	1
23	\N	\N	3	1
24	\N	\N	2	1
25	\N	\N	3	1
26	\N	\N	1	1
27	\N	\N	2	1
\.


--
-- Data for Name: option; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.option (option_id, option_text, question_id) FROM stdin;
1	Tak	1
2	Nie	1
3	Tak	2
4	Nie	2
5	FPS	3
6	RPG	3
7	Battle Royale	3
8	MMO	3
9	Piątek (29.01.2021)	5
10	Sobota (30.01.2021)	5
11	Niedziela (31.01.2021)	5
12	Tak	6
13	Nie	6
\.


--
-- Data for Name: question; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.question (question_id, has_remarks, remarks, required, text, type, survey_id) FROM stdin;
1	f	Wpisz	f	Czy jesteś studentem?	Single choice	85224385-f8e8-4bb6-91c7-c5d8b633a594
2	f	Wpisz	f	Czy grasz w gry?	Single choice	85224385-f8e8-4bb6-91c7-c5d8b633a594
3	f	Wpisz	f	W jakiego rodzaju gry grasz?	Multi choice	85224385-f8e8-4bb6-91c7-c5d8b633a594
4	f		f	Jak się nazywasz?	Text	251cf6a7-9e27-4ffc-b891-5206d35d5dae
5	t	Tutaj znajdują się uwagi.	f	Jaki termin spotkania Ci pasuje?	Multi choice	251cf6a7-9e27-4ffc-b891-5206d35d5dae
6	f	Wpisz	f	Czy przyjdziesz na spotkanie?	Single choice	251cf6a7-9e27-4ffc-b891-5206d35d5dae
7	f		f	Jak oceniasz miejsce spotkania?	Rating	251cf6a7-9e27-4ffc-b891-5206d35d5dae
\.


--
-- Data for Name: roles; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.roles (role_id, p_admin_panel, p_create_surveys, p_delete_surveys, p_edit_surveys, p_results_surveys, role) FROM stdin;
1	t	t	t	t	t	ROLE_ADMIN
2	f	t	t	t	t	ROLE_USER
\.


--
-- Data for Name: survey; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo.survey (survey_id, description, is_anonymous, last_modification_date, title, user_id) FROM stdin;
85224385-f8e8-4bb6-91c7-c5d8b633a594	Zapraszam do wypełnienia ankiety.	f	2021-02-06 14:42:14.563	Badanie graczy	1
251cf6a7-9e27-4ffc-b891-5206d35d5dae	Testowa ankieta. Zapraszam do wypełniania.	f	2021-02-06 14:45:26.727	Wybór terminu spotkania	1
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: dbo; Owner: postgres
--

COPY dbo."user" (id, active, email, password, phone_number, username, roles_role_id) FROM stdin;
1	t	jkowalski@survey.pl	$2a$10$heZhTYQsuVPSRS2KJLoEF.UW6fWm15CgRsFyveET5tN3FMl3KqMCi	999888777	jkowalski	1
2	t	anowak@survey.pl	$2a$10$qrqbLwm4P11DUQStaA7JYO3346kXjaUvK7cdgD4uK.Yf0KJLHEhbO	777888999	anowak	2
3	t	abodzio@survey.pl	$2a$10$f0K4EbZofpDiVDn1F756MeL9bVTa5dppM.7DpJduJLxQd4hlpxcE6	888777999	abodzio	1
\.


--
-- Name: answers_answer_id_seq; Type: SEQUENCE SET; Schema: dbo; Owner: postgres
--

SELECT pg_catalog.setval('dbo.answers_answer_id_seq', 27, true);


--
-- Name: option_option_id_seq; Type: SEQUENCE SET; Schema: dbo; Owner: postgres
--

SELECT pg_catalog.setval('dbo.option_option_id_seq', 13, true);


--
-- Name: question_question_id_seq; Type: SEQUENCE SET; Schema: dbo; Owner: postgres
--

SELECT pg_catalog.setval('dbo.question_question_id_seq', 7, true);


--
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: dbo; Owner: postgres
--

SELECT pg_catalog.setval('dbo.roles_role_id_seq', 2, true);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: dbo; Owner: postgres
--

SELECT pg_catalog.setval('dbo.user_id_seq', 3, true);


--
-- Name: answers answers_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.answers
    ADD CONSTRAINT answers_pkey PRIMARY KEY (answer_id);


--
-- Name: option option_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.option
    ADD CONSTRAINT option_pkey PRIMARY KEY (option_id);


--
-- Name: question question_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.question
    ADD CONSTRAINT question_pkey PRIMARY KEY (question_id);


--
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- Name: survey survey_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.survey
    ADD CONSTRAINT survey_pkey PRIMARY KEY (survey_id);


--
-- Name: roles uk_g50w4r0ru3g9uf6i6fr4kpro8; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.roles
    ADD CONSTRAINT uk_g50w4r0ru3g9uf6i6fr4kpro8 UNIQUE (role);


--
-- Name: user uk_ob8kqyqqgmefl0aco34akdtpe; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo."user"
    ADD CONSTRAINT uk_ob8kqyqqgmefl0aco34akdtpe UNIQUE (email);


--
-- Name: user uk_sb8bbouer5wak8vyiiy4pf2bx; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo."user"
    ADD CONSTRAINT uk_sb8bbouer5wak8vyiiy4pf2bx UNIQUE (username);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: user fk1tyileu08i7c746bh0qn0tecl; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo."user"
    ADD CONSTRAINT fk1tyileu08i7c746bh0qn0tecl FOREIGN KEY (roles_role_id) REFERENCES dbo.roles(role_id);


--
-- Name: answer_option fk3d2wxrac90ww2l54ydvpc16k9; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.answer_option
    ADD CONSTRAINT fk3d2wxrac90ww2l54ydvpc16k9 FOREIGN KEY (option_id) REFERENCES dbo.option(option_id);


--
-- Name: answers fk4l9tdx1qt5esehos4ygj0sa81; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.answers
    ADD CONSTRAINT fk4l9tdx1qt5esehos4ygj0sa81 FOREIGN KEY (user_id) REFERENCES dbo."user"(id);


--
-- Name: survey fk51x6iogwvw5n6pa7sl339ltju; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.survey
    ADD CONSTRAINT fk51x6iogwvw5n6pa7sl339ltju FOREIGN KEY (user_id) REFERENCES dbo."user"(id);


--
-- Name: question fk65ro96jafjvulbqu8ia0pb254; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.question
    ADD CONSTRAINT fk65ro96jafjvulbqu8ia0pb254 FOREIGN KEY (survey_id) REFERENCES dbo.survey(survey_id);


--
-- Name: answer_option fke9s45xmwndlm9hhtuqx67gfda; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.answer_option
    ADD CONSTRAINT fke9s45xmwndlm9hhtuqx67gfda FOREIGN KEY (answer_id) REFERENCES dbo.answers(answer_id);


--
-- Name: option fkgtlhwmagte7l2ssfsgw47x9ka; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.option
    ADD CONSTRAINT fkgtlhwmagte7l2ssfsgw47x9ka FOREIGN KEY (question_id) REFERENCES dbo.question(question_id);


--
-- Name: answers fks4j12sfj254yawphx0k1xrl3f; Type: FK CONSTRAINT; Schema: dbo; Owner: postgres
--

ALTER TABLE ONLY dbo.answers
    ADD CONSTRAINT fks4j12sfj254yawphx0k1xrl3f FOREIGN KEY (question_id) REFERENCES dbo.question(question_id);


--
-- PostgreSQL database dump complete
--

